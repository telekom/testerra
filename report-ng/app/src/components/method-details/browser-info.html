<!--
  ~ Testerra
  ~
  ~ (C) 2020, Mike Reiche, T-Systems Multimedia Solutions GmbH, Deutsche Telekom AG
  ~
  ~ Deutsche Telekom AG and all other contributors /
  ~ copyright owners license this file to you under the Apache
  ~ License, Version 2.0 (the "License"); you may not use this
  ~ file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~ KIND, either express or implied.  See the License for the
  ~ specific language governing permissions and limitations
  ~ under the License.
  -->

<template>
    <mdc-layout-grid class="pt0">
        <mdc-card class="mb1" repeat.for="session of _sessionInformationArray" mdc-body1 id="${session.sessionId}">
            <div mdc-subtitle2 class="card-headline">Session: ${session.sessionName}</div>
            <mdc-list-divider></mdc-list-divider>
            <div class="card-content">
                <mdc-layout-grid-inner>
                    <mdc-layout-grid-cell span="6">
                        <ul class="mdc-list mdc-list--dense" mdc-caption>
                            <div mdc-subtitle2>General information</div>
                            <li class="mdc-custom-list-item">
                                <span class="secondary sr1">ID</span>${session.sessionId}
                            </li>
                            <li class="mdc-custom-list-item">
                                <span class="secondary sr1">Browser</span>${session.browserName}:${session.browserVersion}
                            </li>
                            <li class="mdc-custom-list-item">
                                <span class="secondary sr1">User&nbsp;agent</span>${session.userAgent}
                            </li>
                            <li class="mdc-custom-list-item" if.bind="session.serverUrl.length>0">
                                <span class="secondary sr1">Server</span><a href="${session.serverUrl}">${session.serverUrl}</a>
                            </li>
                            <li class="mdc-custom-list-item" if.bind="session.nodeUrl.length>0">
                                <span class="secondary sr1">Node</span><a href="${session.nodeUrl}">${session.nodeUrl}</a>
                            </li>
                            <li class="mdc-custom-list-item" if.bind="session.videoId">
                                <span class="secondary sr1">Video ID</span><a route-href="route: video; params.bind: {id: session.sessionId}">${session.videoId}</a>
                            </li>

                            <div mdc-subtitle2 class="mt1">Session metrics</div>
                            <li class="mdc-custom-list-item" if.bind="session.sessionDuration>0">
                                <span class="secondary sr1">Session duration</span>${session.sessionDuration}s
                            </li>
                            <li class="mdc-custom-list-item" if.bind="session.sessionStartDuration>0">
                                <span class="secondary sr1">Session start duration</span>${session.sessionStartDuration}s
                            </li>
                            <li class="mdc-custom-list-item" if.bind="session.sessionStartTime>0">
                                <span class="secondary sr1">Session start time</span>${_dateFormatter.toView(Number(session.sessionStartTime))}
                            </li>

                            <div mdc-subtitle2 class="mt1" if.bind="session.baseUrl">Base URL metrics</div>
                            <li class="mdc-custom-list-item" if.bind="session.baseUrl">
                                <span class="secondary sr1">Base URL</span><a href="${session.baseUrl}">${session.baseUrl}</a>
                            </li>
                            <li class="mdc-custom-list-item" if.bind="session.baseurlStartDuration>0">
                                <span class="secondary sr1">Base URL start duration</span>${session.baseurlStartDuration}s
                            </li>
                            <li class="mdc-custom-list-item" if.bind="session.baseurlStartTime>0">
                                <span class="secondary sr1">Base URL start time</span>${_dateFormatter.toView(Number(session.baseurlStartTime))}
                            </li>
                        </ul>
                    </mdc-layout-grid-cell>
                    <mdc-layout-grid-cell span="6">
                        <div mdc-subtitle2>Capabilities</div>
                        <div class="code-view capabilities-view">${session.capabilities|json}</div>
                    </mdc-layout-grid-cell>
                </mdc-layout-grid-inner>
            </div>
        </mdc-card>
    </mdc-layout-grid>
</template>
